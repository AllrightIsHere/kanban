generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["views"]
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model Board {
    id   Int    @id @default(autoincrement())
    name String @db.VarChar(255)

    columns Column[]

    @@map("board")
}

model Column {
    id      Int    @id @default(autoincrement())
    name    String @db.VarChar(255)
    boardId Int    @map("board_id")

    board Board  @relation(fields: [boardId], references: [id], onDelete: NoAction, onUpdate: NoAction)
    cards Card[]

    @@map("column")
}

model Card {
    id          Int     @id @default(autoincrement())
    title       String  @db.VarChar(255)
    description String? @db.VarChar(500)
    columnId    Int     @map("column_id")

    column Column @relation(fields: [columnId], references: [id], onDelete: NoAction, onUpdate: NoAction)

    @@map("card")
}
